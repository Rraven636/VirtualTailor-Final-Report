\chapter{Analysis} \label{analysis}

This Chapter explores the insights gained through analysis of the results detailed in Chapter \ref{results} and Appendix \ref{appendixDetailedResults}.

The analysis follows the pattern of Chapter \ref{results} by analysing the system in terms of its three major functional areas in the following sections:

\begin{itemize}
	\item Length and Extremity Measurement
	\item 3D Modelling
	\item User Interface
\end{itemize} 

\section{Length and Extremity Measurement}
This section begins with overall insights gained about this functional area. Afterwards, further analysis is done of each of the major sub-functions:

\begin{itemize}
	\item Human Detection
	\item Plane Creation
	\item Extremity Detection
\end{itemize}

\subsection{Overall}
The system performed mostly successfully in terms of the aims stipulated in Section \ref{methodologyAim}. 

Below is a summary of performance in comparison with the quantitative aims:

\begin{itemize}
	\item The average accuracy tolerance of the overall system was 23.15\% - (Aim: $<25\%$)
	\item The length accuracies achieved ranged from 3.12\% to 8.53\% - (Aim: $<20\%$)
	\item 75\% of the Views met the "View" aim (The "Left" View achieved the worst accuracy of 28.19\%) - (Aim: $<25\%$)
	\item 80\% of the limb measurements met the Limb aim (The Chest (38.77\%) and the Waist (34.26\%) performed the worst) - (Aim: $<25\%$)
	\item Clothing, on average, increased the inaccuracy of the system by 66.08\% - (Aim: $<30\%$)
	\item The average uncertainty of each limb measurement ranged from 1.44\% to 7.20\% - (Aim: $<10\%$)
\end{itemize}

Despite using a relatively small data set, the system was deemed to be effective for a variety of body types - The characteristics of Volunteers used for analysis included "Build", "Height" and "Clothing". (A summary of this can be seen in Table \ref{tab:overallAccuracy}). However, it was noticed that certain characteristics may have been responsible for the systems lack of performance in certain areas and will be explained in subsequent sections.

Additionally, the physical measurements taken for comparison had a certain amount of uncertainty as the apparatus available for measurement was analogue and not perfectly suited for the the experiment. Therefore, the results of the system could be slightly better or worse. However, this increased level of accuracy is not necessary for the purposes of a first attempt at the project to get an overall understanding of the effectiveness of this approach. Methods to evaluate the accuracy to a finer level of detail would be essential for a final implementable solution.

\subsection{Human Detection}
%This section analyses the effectiveness of the Kinect and its %capabilities for its intended use in the project scope. 

\subsubsection{Body Detection}
The first major aspect of the system is whether it could adequately detect a human body. As mention in Section \hl{(Insert Reference)}, this was achieved by using the Kinect's inbuilt skeleton tracking capability together with its BackgroundRemoval Class.

The visible effectiveness of this method manifested in the detection of the full human body of each volunteer, together with a rendering of their skeleton, that appeared in the User Interface. (Refer to Appendix \ref{appendixDetailedResults} for examples of images taken during final testing). 

\subsubsection{3D Measurement}
The next process in the detection process was to understand if the depth data collected by the Kinect was reliable for 3D measurement. This has been validated by previous projects \hl{(Insert Reference)}, but the measurement of key lengths in the body, performed during this project, also acted as an indirect "acid-test" validation. This is largely due to the fact that the points used to measure the lengths were well established "Joints" in the tracked "Skeleton", where each "Joint" had a clearly identifiable 3D location. Therefore, comparing the measurements obtained through calculation to actual measurements was able to give a rough indication of the accuracy of the Kinect's data. Since all the key lengths had an average accuracy of within 10\%, the data collected by the Kinect was deemed appropriate for not just human detection, but for measurement as well. 

\subsubsection{Kinect Failures}
Despite the suitability of Kinect demonstrated above, there were certain instances where its performance was inadequate and negatively impacted the overall performance of the system. These are explained in the following paragraphs. 

\paragraph{Detection}
It was observed that the Kinect's human detection and skeleton tracking was most effective when the volunteer was directly facing it. Its ability to detect humans facing 90 \textdegree

\paragraph{Inferred Joints}

\paragraph{Jitter}

\paragraph{Skeleton Mapping}
Detecting Users\\
Skeleton tracking - Jitter, Inferred Joints, Ideal for Front, mapping to colour image - Skinny\\
Lengths\\


\subsection{Plane Creation}
Waist plane\\
Skinny\\
Moving planes - Consistency\\

\subsection{Extremity Detection}
Padding\\
Clothing\\
Overlap - Orientation or position\\
Resolution\\
Distance\\

\subsection{Measurement Validity}
Uncertainty\\
Stats\\
Waist Plane\\

\section{3D Modelling}

\section{User Interface}

\iffalse

Mention data set?\\

The observed factors that had the greatest contribution to inaccuracy are listed below in order of impact:

\begin{enumerate}
	\item The system not being able to accurately determine the extremities of the body.
	\item The inconsistency of the plane being used to take the measurement.
	\item The error or "jitter" of the tracked skeleton.
\end{enumerate}



The results obtained in Table \ref{tab:viewResults}, together with the detailed results of each volunteer available in Appendix \ref{appendixDetailedResults} have yielded insights for each of the views. They are discussed in the subsequent subsections. 

\subsection{Front Performance}

The "Front" view performed the best overall with an average accuracy of 20.67\%. This can be attributed to the fact that the Kinect performs the best when a person faces it head on (Parallel to the image plane). This is due to the Kinect being able to fully track the skeleton of the user. As a result, a more accurate and reliable skeletal coordinate system can be used, which in turn provide more accurate planes of measure. 

All joints and skeleton tracked 

\subsection{Left Performance}

\subsection{Back Performance}

The "Back" view performed better than expected despite the average error of 23.11\%

\subsection{Right Performance}

Front was the most accurate

Misc\\
Missing - Height, Skinny, Back, Skeleton Mapping
8) Empirical Insights - Trying to determine a correct measurement,  length of people, skinny person, skeleton not perfectly fitting, background edges not perfect \\

5) Uncertainty model\\

\fi